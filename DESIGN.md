# Noteライクな雑記ブログの設計図

note.comを参考にしたデザインの個人向け雑記ブログ。
左サイドバーにプロフィール、右にカード型の記事一覧を配置する2カラムレイアウト。
レスポンシブWebデザインにより、PC・タブレット・スマートフォンのどの画面でも快適に読める。
記事はMarkdownで書き、ブラウザ側で自動的にHTMLに変換して表示する。
フレームワークやビルドツールは使わない。

---

## 技術構成

| 要素 | 採用技術 | 理由 |
|------|---------|------|
| 構造 | HTML5 | フレームワーク不要、初心者でも扱える |
| 装飾 | Vanilla CSS | media queryでレスポンシブを実現する |
| 記事の形式 | Markdownファイル (.md) | テキストエディタだけで記事を書ける |
| Markdown変換 | marked.js（CDN読み込み） | ブラウザ側で自動変換、インストール不要 |
| 記事一覧管理 | posts.json | 記事のメタ情報を1ファイルで管理する |
| フォント | Noto Sans JP（Google Fonts） | 日本語の読みやすさを確保する |
| ホスティング | Netlify | GitHubにpushするだけで公開される |

Node.js、Viteなどのビルドツールは使用しない。marked.jsはCDNから読み込むため、npmインストールも不要。

---

## 画面構成

ブログは2つの画面で構成する。プロフィール情報はサイドバーに統合しているため、独立したプロフィールページは設けない。

### トップページ（index.html）

note.com風の2カラムレイアウト。

左サイドバーにプロフィール情報（アバター画像、名前、自己紹介文、フォローボタン）を表示する。
右のメインエリアにはタブUI（新着／人気）とカード型の記事一覧を配置する。
各カードにはカバー画像のサムネイル、記事タイトル、著者情報、日付、いいね数を表示する。
カードは2列のグリッドで並び、最新の記事が左上にくる。
カードにホバーすると影が付いて浮き上がるエフェクトを適用する。

記事一覧はposts.jsonをJavaScriptで読み込んで描画する。

### 記事ページ（post.html）

note.com風の記事表示ページ。

左サイドバーにプロフィール情報を表示する（トップページと同じ）。
右のメインエリアにカバー画像を大きく表示し、その下にタイトルと日付、本文を配置する。
本文の横幅は720px程度に制限する。
URLのクエリパラメータ（?slug=ファイル名）で対象のMarkdownファイルを特定し、marked.jsで変換して表示する。

本文の下にいいねボタン（ハートアイコン）を配置する。いいねの状態はlocalStorageで保持する。
さらにその下に著者情報（アバター、名前、日付）を表示する。

---

## 記事の書き方

記事は `content/posts/` フォルダにMarkdownファイルを1つ作り、本文を書く。

### ファイルの命名規則

```
content/posts/2026-02-27-first-post.md
content/posts/2026-02-28-daily-thoughts.md
```

### 記事ファイルの中身

Markdownの書き方で本文を書くだけ。特別な設定は不要。

```markdown
# ブログはじめました

今日からブログを始めることにした。

## きっかけ

普段考えていることを文章にしておきたいと思ったのがきっかけだ。

段落を分けたいときは、空行を1行入れる。

![写真の説明](../images/example.jpg)

太字にしたいときは **こう書く**。リストも作れる。

- 項目1
- 項目2
- 項目3
```

### posts.json の管理

記事を追加するたびに、このファイルの先頭に新しい記事の情報を追加する。
coverフィールドにカバー画像のパスを指定する。画像がない場合は空文字にすると、デフォルトのグラデーション背景が表示される。

```json
[
  {
    "slug": "2026-02-28-daily-thoughts",
    "title": "日々の雑感",
    "date": "2026-02-28",
    "cover": "images/cover-daily-thoughts.png"
  },
  {
    "slug": "2026-02-27-first-post",
    "title": "ブログはじめました",
    "date": "2026-02-27",
    "cover": "images/cover-first-post.png"
  }
]
```

### 記事を追加する手順

1. `content/posts/` フォルダにMarkdownファイルを作る
2. 本文を書く
3. カバー画像を `images/` フォルダに入れる（任意）
4. `content/posts.json` にタイトル・日付・slug・coverを1件追加する
5. 画像を使う場合はExif削除スクリプトを実行する
   ```powershell
   .\tools\remove-exif.ps1
   ```
6. GitHubにpushする
7. Netlifyが自動で公開する

---

## フォルダ構成

```
brog-traial/
├── index.html              ← トップページ（サイドバー＋カードグリッド）
├── post.html               ← 記事表示ページ（カバー画像＋Markdown→HTML変換）
├── css/
│   └── style.css           ← note.com風スタイル定義（レスポンシブ対応）
├── js/
│   └── main.js             ← カードグリッド描画・Markdown読み込み・いいね機能
├── content/
│   ├── posts.json          ← 記事のメタ情報一覧（カバー画像パス含む）
│   └── posts/              ← 記事のMarkdownファイルを置く場所
├── images/                 ← カバー画像・記事内画像を置く場所
├── tools/
│   └── remove-exif.ps1     ← 画像のExif情報を一括削除するスクリプト
└── DESIGN.md               ← この設計図
```

---

## デザイン方針

note.comの見た目を参考にしたデザイン。

| 項目 | 値 |
|------|-----|
| ページ背景色 | 薄いグレー (#f8f8f8) |
| カード・サイドバー背景色 | 白 (#ffffff) |
| 文字色 | 濃いグレー (#333333) |
| 本文フォント | Noto Sans JP |
| 本文サイズ | 16px（モバイル15px） |
| 記事本文の最大幅 | 720px |
| 行間 | 1.8〜2.0 |
| アクセントカラー | いいねのピンク (#e8467f) |
| カード角丸 | 8px |
| レイアウト | 2カラム（左260pxサイドバー＋右メインコンテンツ） |
| 全体の雰囲気 | note.comに近い、カード型の現代的なデザイン |

### レスポンシブ対応

| 画面幅 | 調整内容 |
|--------|---------|
| 961px以上 | 2カラム（サイドバー＋メイン）、カード2列グリッド |
| 641px〜960px | 1カラム（サイドバーは横並びのコンパクト表示）、カード2列 |
| 640px以下 | 1カラム、カード1列、フォントサイズ15px |

---

## セキュリティ

この構成は静的サイトであり、サーバー側の処理やデータベースを持たないため、攻撃対象がほぼ存在しない。以下は初心者が公開前に確認しておくべき項目。

### 1. APIキーや秘密情報は一切コードに書かない
今回の構成ではAPIキーを使う場面はない。将来必要になった場合も、HTMLやJSファイルには書かず、サーバーサイドの仕組みで扱う。

### 2. .gitignore の設定
```
.DS_Store
Thumbs.db
.vscode/
drafts/
.env
.env.local
```

### 3. 画像のメタデータ
スマートフォンの写真にはGPS座標が含まれていることがある。`.\tools\remove-exif.ps1` を実行して削除する。

### 4. 外部から読み込むファイルの安全性
今回はGoogle FontsとCDN版marked.jsのみ。将来ライブラリを追加する場合は公式CDNを使いintegrity属性を付与する。

### 5. 外部入力をHTMLに直接挿入しない
将来コメント欄等を追加する場合はエスケープ処理を行う（クロスサイトスクリプティング防止）。

---

## 将来の拡張

- アフィリエイトリンクの挿入（記事内に直接記述）
- カテゴリやタグでの記事分類ページ
- OGP画像の自動生成
- Sanityへの移行

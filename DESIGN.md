# Noteライクな雑記ブログの設計図

白を基調としたシンプルなデザインの個人向け雑記ブログ。
レスポンシブWebデザインにより、PC・タブレット・スマートフォンのどの画面でも快適に読める。
記事はMarkdownで書き、ブラウザ側で自動的にHTMLに変換して表示する。
フレームワークやビルドツールは使わない。

---

## 技術構成

| 要素 | 採用技術 | 理由 |
|------|---------|------|
| 構造 | HTML5 | フレームワーク不要、初心者でも扱える |
| 装飾 | Vanilla CSS | media queryでレスポンシブを実現する |
| 記事の形式 | Markdownファイル (.md) | テキストエディタだけで記事を書ける |
| Markdown変換 | marked.js（CDN読み込み） | ブラウザ側で自動変換、インストール不要 |
| 記事一覧管理 | posts.json | 記事のメタ情報を1ファイルで管理する |
| フォント | Noto Sans JP（Google Fonts） | 日本語の読みやすさを確保する |
| ホスティング | Netlify | GitHubにpushするだけで公開される |

Node.js、Viteなどのビルドツールは使用しない。marked.jsはCDNから読み込むため、npmインストールも不要。

---

## 画面構成

ブログは3つの画面で構成する。

### トップページ（index.html）
記事のタイトルと日付を縦に並べた一覧画面。最新の記事が上にくる。Noteのように余白を広くとり、文字だけで成立するレイアウト。ヘッダーにはブログ名を表示する。記事一覧はposts.jsonをJavaScriptで読み込んで描画する。

### 記事ページ（post.html）
1記事の本文を表示する画面。URLのクエリパラメータ（?slug=ファイル名）で対象のMarkdownファイルを特定し、読み込んでHTMLに変換して表示する。本文の横幅を680px程度に制限する。

### プロフィールページ（about.html）
運営者の自己紹介とSNSリンクなどを掲載する固定ページ。ヘッダーのナビゲーションからアクセスできるようにする。

---

## 記事の書き方

記事は `content/posts/` フォルダにMarkdownファイルを1つ作り、本文を書く。

### ファイルの命名規則

```
content/posts/2026-02-27-first-post.md
content/posts/2026-02-28-daily-thoughts.md
```

### 記事ファイルの中身

Markdownの書き方で本文を書くだけ。特別な設定は不要。

```markdown
# ブログはじめました

今日からブログを始めることにした。

## きっかけ

普段考えていることを文章にしておきたいと思ったのがきっかけだ。

段落を分けたいときは、空行を1行入れる。

![写真の説明](../images/example.jpg)

太字にしたいときは **こう書く**。リストも作れる。

- 項目1
- 項目2
- 項目3
```

### posts.json の管理

記事を追加するたびに、このファイルの先頭に新しい記事の情報を追加する。

```json
[
  {
    "slug": "2026-02-28-daily-thoughts",
    "title": "日々の雑感",
    "date": "2026-02-28"
  },
  {
    "slug": "2026-02-27-first-post",
    "title": "ブログはじめました",
    "date": "2026-02-27"
  }
]
```

### 記事を追加する手順

1. `content/posts/` フォルダにMarkdownファイルを作る
2. 本文を書く
3. `content/posts.json` にタイトル・日付・slugを1件追加する
4. 画像を使う場合は `images/` フォルダに画像を入れ、Exif削除スクリプトを実行する
   ```powershell
   .\tools\remove-exif.ps1
   ```
5. GitHubにpushする
6. Netlifyが自動で公開する

---

## フォルダ構成

```
brog-traial/
├── index.html              ← トップページ（記事一覧）
├── post.html               ← 記事表示ページ（Markdown→HTML変換）
├── about.html              ← プロフィールページ
├── css/
│   └── style.css           ← 全体のスタイル定義（レスポンシブ対応）
├── js/
│   └── main.js             ← 記事一覧描画・Markdown読み込み処理
├── content/
│   ├── posts.json          ← 記事のメタ情報一覧
│   └── posts/              ← 記事のMarkdownファイルを置く場所
├── images/                 ← 記事で使う画像を置く場所
├── tools/
│   └── remove-exif.ps1     ← 画像のExif情報を一括削除するスクリプト
└── DESIGN.md               ← この設計図
```

---

## デザイン方針

| 項目 | 値 |
|------|-----|
| 背景色 | 白 (#ffffff) |
| 文字色 | 濃いグレー (#333333) |
| 本文フォント | Noto Sans JP |
| 本文サイズ | 16px〜18px |
| 本文の最大幅 | 680px |
| 行間 | 1.8〜2.0 |
| リンク色 | 控えめな青 (#1a73e8) |
| 全体の雰囲気 | Noteに近い、文章を邪魔しない静かなデザイン |

### レスポンシブ対応

| 画面幅 | 調整内容 |
|--------|---------|
| 1024px以上 | 本文幅680px中央配置 |
| 768px〜1023px | 左右にpadding 40px |
| 767px以下 | 左右にpadding 20px、フォントサイズ15px |

---

## セキュリティ

この構成は静的サイトであり、サーバー側の処理やデータベースを持たないため、攻撃対象がほぼ存在しない。以下は初心者が公開前に確認しておくべき項目。

### 1. APIキーや秘密情報は一切コードに書かない
今回の構成ではAPIキーを使う場面はない。将来必要になった場合も、HTMLやJSファイルには書かず、サーバーサイドの仕組みで扱う。

### 2. .gitignore の設定
```
.DS_Store
Thumbs.db
.vscode/
drafts/
.env
.env.local
```

### 3. 画像のメタデータ
スマートフォンの写真にはGPS座標が含まれていることがある。`.\tools\remove-exif.ps1` を実行して削除する。

### 4. 外部から読み込むファイルの安全性
今回はGoogle FontsとCDN版marked.jsのみ。将来ライブラリを追加する場合は公式CDNを使いintegrity属性を付与する。

### 5. 外部入力をHTMLに直接挿入しない
将来コメント欄等を追加する場合はエスケープ処理を行う（クロスサイトスクリプティング防止）。

---

## 将来の拡張

- アフィリエイトリンクの挿入（記事内に直接記述）
- カテゴリやタグでの記事分類ページ
- OGP画像の自動生成
- Sanityへの移行
